<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>å¥åº·èˆ‡ç¦ç¥‰ ç¬¬ä¸€é—œ</title>
  <style>
    body {
      font-family: "Comic Sans MS", cursive;
      background-image: url('bg1.png');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      height: 100vh;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: url('cursor.png'), auto;
      position: relative;
    }

    .question-box {
      border: 2px dashed #ff99cc;
      padding: 20px;
      margin: 20px auto;
      width: 90%;
      max-width: 600px;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
    }

    .option {
      display: block;
      background-color: #ffe0f0;
      border: 1px solid #ff99cc;
      padding: 10px;
      margin: 10px 0;
      cursor: pointer;
      border-radius: 10px;
      transition: 0.2s;
    }

    .option:hover {
      background-color: #ffccdd;
    }

    #clap {
      display: none;
      width: 100px;
      margin-top: 20px;
    }

    #timer {
      font-size: 20px;
      color: #ff3366;
    }

    #result {
      font-size: 24px;
      margin-top: 30px;
      color: #339966;
      text-align: center;
    }

    .click-image {
      position: absolute;
      width: 50px;
      height: 50px;
      pointer-events: none;
      z-index: 9999;
      transform: translate(-50%, -50%);
    }
  </style>
</head>
<body>
  <h1>å¥åº·èˆ‡ç¦ç¥‰ ç¬¬ä¸€é—œ ğŸ’–</h1>
  <div id="timer">â° å‰©é¤˜æ™‚é–“ï¼š60 ç§’</div>
  <div class="question-box" id="quiz-box">
    <!-- é¡Œç›®èˆ‡é¸é …å°‡ç”± JS å‹•æ…‹æ’å…¥ -->
  </div>
  <img src="https://i.imgur.com/OdL0XPt.gif" id="clap" alt="clap animation" />
  <div id="result"></div>

  <audio id="correct-sound" src="https://www.soundjay.com/buttons/sounds/button-3.mp3"></audio>
  <audio id="wrong-sound" src="https://www.soundjay.com/buttons/sounds/button-10.mp3"></audio>

  <script>
    const questions = [
      {
        type: "choice",
        question: "æ¯å¤©æ‡‰è©²ç¡å¹¾å°æ™‚å°èº«é«”æœ€å¥½ï¼Ÿ",
        options: ["4 å°æ™‚", "8 å°æ™‚", "12 å°æ™‚"],
        answer: 1
      },
      {
        type: "choice",
        question: "å“ªä¸€é …æ˜¯ä¿ƒé€²å¥åº·çš„å¥½ç¿’æ…£ï¼Ÿ",
        options: ["ç†¬å¤œæ‰“éŠæˆ²", "åƒè”¬æœ", "ä¹…åä¸å‹•"],
        answer: 1
      },
      {
        type: "choice",
        question: "å“ªä¸€é …æ˜¯è‰¯å¥½çš„å¿ƒç†å¥åº·æ–¹å¼ï¼Ÿ",
        options: ["åˆ†äº«æƒ…ç·’", "å£“æŠ‘æ„Ÿå—", "å¿½ç•¥å£“åŠ›"],
        answer: 0
      },
      {
        type: "fill",
        question: "å¡«ç©ºï¼šå¤šé‹å‹•æœ‰åŠ©æ–¼èº«é«”______ã€‚",
        answer: "å¥åº·"
      },
      {
        type: "choice",
        question: "é‹å‹•æ™‚æ‡‰è©²ç©¿è‘—ä»€éº¼ï¼Ÿ",
        options: ["æ¶¼çˆ½é€æ°£çš„è¡£æœ", "åšé‡å¤§è¡£", "ç‰›ä»”è¤²"],
        answer: 0
      },
      {
        type: "fill",
        question: "å¡«ç©ºï¼šæ¯å¤©è‡³å°‘è¦å–____æ¯æ°´ï¼Œå¹«åŠ©èº«é«”ä»£è¬ã€‚",
        answer: "8"
      },
      {
        type: "choice",
        question: "å“ªå€‹é£Ÿç‰©æœ€æœ‰åŠ©æ–¼èº«é«”å¥åº·ï¼Ÿ",
        options: ["ç‚¸é›", "æ±½æ°´", "ç¶ è‰²è”¬èœ"],
        answer: 2
      },
      {
        type: "choice",
        question: "è‹¥æ„Ÿè¦ºå£“åŠ›å¤§ï¼Œæ‡‰è©²æ€éº¼è¾¦ï¼Ÿ",
        options: ["æ‰¾äººèŠèŠ", "ä¸ç†å®ƒ", "ä¸€ç›´å¿è€"],
        answer: 0
      },
      {
        type: "fill",
        question: "å¡«ç©ºï¼šå‡è¡¡çš„______æœ‰åŠ©æ–¼ç¶­æŒå¥½é«”åŠ›ã€‚",
        answer: "é£²é£Ÿ"
      },
      {
        type: "choice",
        question: "å“ªå€‹æ˜¯ä¿æŒå¿ƒç†å¥åº·çš„æ–¹æ³•ï¼Ÿ",
        options: ["èˆ‡æœ‹å‹äº’å‹•", "æ•´å¤©é—œåœ¨æˆ¿é–“", "ç©æ‰‹æ©Ÿåˆ°åŠå¤œ"],
        answer: 0
      }
    ];

    let current = 0;
    let score = 0;
    let timeLeft = 60;
    const quizBox = document.getElementById("quiz-box");
    const resultBox = document.getElementById("result");
    const timer = document.getElementById("timer");
    const clap = document.getElementById("clap");
    const correctSound = document.getElementById("correct-sound");
    const wrongSound = document.getElementById("wrong-sound");

    function showQuestion() {
      const q = questions[current];
      quizBox.innerHTML = `<h2>${q.question}</h2>`;

      if (q.type === "choice") {
        q.options.forEach((opt, i) => {
          const btn = document.createElement("div");
          btn.className = "option";
          btn.innerText = opt;
          btn.onclick = () => checkAnswer(i);
          quizBox.appendChild(btn);
        });
      } else {
        const input = document.createElement("input");
        input.type = "text";
        input.placeholder = "è«‹è¼¸å…¥ç­”æ¡ˆ...";
        input.style.padding = "10px";
        input.style.marginTop = "10px";
        input.style.borderRadius = "8px";
        input.style.border = "1px solid #ccc";
        quizBox.appendChild(input);

        const submit = document.createElement("button");
        submit.innerText = "æäº¤";
        submit.style.marginTop = "15px";
        submit.style.padding = "10px 20px";
        submit.style.borderRadius = "10px";
        submit.style.border = "none";
        submit.style.backgroundColor = "#ff99cc";
        submit.onclick = () => checkAnswer(input.value.trim());
        quizBox.appendChild(submit);
      }
    }

    function checkAnswer(ans) {
      const q = questions[current];
      let correct = false;

      if (q.type === "choice" && ans === q.answer) correct = true;
      if (q.type === "fill" && ans === q.answer) correct = true;

      if (correct) {
        score++;
        correctSound.play();
        clap.style.display = "inline";
        setTimeout(() => {
          clap.style.display = "none";
        }, 1000);
      } else {
        wrongSound.play();
      }

      current++;
      if (current < questions.length) {
        showQuestion();
      } else {
        endGame();
      }
    }

  function endGame() {
  quizBox.style.display = "none";
  timer.style.display = "none";

  resultBox.innerHTML = `ğŸ‰ éŠæˆ²çµæŸï¼ä½ ç­”å°äº† ${score} / 10 é¡Œï¼<br>${
    score >= 8 ? "ğŸ’– å¤ªæ£’äº†ï¼ä½ å¾ˆäº†è§£å¥åº·èˆ‡ç¦ç¥‰ï¼" : "ğŸ’¡ å†æ¥å†å²ï¼Œå¥åº·å¾æ¯å¤©åšèµ·ï¼"
  }`;

  // âœ… ä¿®æ”¹æ¢ä»¶ï¼š6 åˆ†ä»¥ä¸Šå°±è·³è½‰
  if (score >= 6) {
    resultBox.innerHTML += "<br>â­ï¸ å³å°‡å‰å¾€ç¬¬äºŒé—œ...";
    setTimeout(() => {
      window.location.href = "index2.html";
    }, 3000);
  }
}


    function countdown() {
      if (timeLeft > 0) {
        timeLeft--;
        timer.innerText = `â° å‰©é¤˜æ™‚é–“ï¼š${timeLeft} ç§’`;
        setTimeout(countdown, 1000);
      } else {
        endGame();
      }
    }

    showQuestion();
    countdown();

    // é»æ“Šåœ–ç‰‡ç‰¹æ•ˆ
    document.addEventListener("click", function(e) {
      const img = document.createElement("img");
      img.src = "click.png ";
      img.className = "click-image";
      img.style.left = e.pageX + "px";
      img.style.top = e.pageY + "px";
      document.body.appendChild(img);
      setTimeout(() => img.remove(), 300);
    });
  </script>
</body>
</html>
